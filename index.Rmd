---
title: "index"
author: "Isaac Lai"
date: "5/21/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r include=FALSE}
library(knitr)
library(dplyr)
library(ggplot2)
library(leaflet)
library(plotly)
library(tidyverse)
library(stringr)
library(sf)
library(scales)
library(jsonlite)
data <- read.csv("data/Countries_with_covid19.csv", stringsAsFactors = FALSE)
continents <- read.csv("data/Countries-Continents.csv", stringsAsFactors = FALSE)
source("scripts/summary_info.R")
```

## Introduction
Due to the rapid spread of COVID-19, multiple nations have suffered large infection rates, many of which have been recorded, along with specific information on when the cases were first observed, in addition to status on the outcomes of each patient. This data is what we will be basing our research on.

## Summary Information
```{r echo=FALSE}
#get_info(data)
```
country with most cases
country with least cases
3 more points of interest
Notable points of interest in the dataset are that 'r ' contains the most confirmed cases in the world, with 'r ' containing the least. 


## Table
A table was included because it was the most clear way to display specific numeric values, and in this case, was used to show the twenty countries with the most recorded deaths. This table reveals how the US leads the world in number of deaths by a large margin. By listing out the results by number of deaths, we can more easily see the countries that have been most affected by COVID-19, and additional information for those countries
```{r echo=FALSE, warning=FALSE}
source("scripts/table_Lai.R")
kable(table_maker(data))
```

## Map
This map displays the number of cases per a country. We included this chart because it very clearly displays how the number of COVID19 cases is dispersed throughout the world. As seen below, this graphic reveals that the number of cases in the U.S. far out weighs the number of cases elsewhere.
```{r echo=FALSE, message=FALSE}
source("scripts/world_cases.R")
worldCases(data, sf::st_read("data/countries.geojson"))
```

## Pie Chart

```{r echo=FALSE}
source("scripts/deaths_by_continent_fame.R")
chart_death_by_cont(data, continents)
```

## Bar Chart

The plot below highlights the top 10 countries with the most amount of deaths due to COVID-19. It is in the form of a colored bar chart. This plot displays the x-axis as the amount of deaths and the y-axis as the respective country. This visual effectively displays which states had more/less deaths than one another. Additionally, I added another level of encoding that is color, which further differentiates the difference in amount of deaths by country. I chose these visual types because length encoding allows people to easily identify differences in deaths and although color ranks as a lesser encoding, it adds another level of clarity.
```{r echo=FALSE}
source("scripts/deaths_bar_chart_Li.R")
bar_chart_plot(data)
```
